<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <title>Fun with Filters and Frequencies!</title>
    <link rel="stylesheet" href="../styles.css">
    <title>Fun with Filters and Frequencies!</title>
    <link rel="icon" type="image/png" href="../icon.png">

</head>

<body>
    <main class="">
        <nav class="navbar navbar-expand-lg py-2 px-xl-5" style="z-index: 100;">
            <div class="container-xxl d-flex align-items-lg-center justify-content-between">
                <a class="navbar-brand" href="https://inst.eecs.berkeley.edu/~cs180/fa24/">CS 180</a>
                <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item ms-lg-3 dropdown">
                            <a class="nav-link link-dark" href="/1/">Project 1</a>
                        </li>
                        <li class="nav-item ms-lg-3">
                            <a class="nav-link link-dark" href="/2/">Project 2</a>
                        </li>
                        <li class="nav-item ms-lg-3">
                            <a class="nav-link link-dark" href="/3/">Project 3</a>
                        </li>
                        <li class="nav-item ms-lg-3">
                            <a class="nav-link link-dark" href="/4/">Project 4</a>
                        </li>
                        <li class="nav-item ms-lg-3">
                            <a class="nav-link link-dark" href="/5/">Project 5</a>
                        </li>
                        <li class="nav-item ms-lg-3">
                            <a class="nav-link link-dark" href="/6/">Final Project</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container legal-text-block">
            <h1 class="text-center">Project 2: <br> Fun with Filters and Frequencies!</h1>
            <hr class="mb-5">
            <p>
                <b>Here is something fun: </b>Look at the image below, it looks like the girl is sticking out her
                tongue, right?
            </p>
            <p>
                But if you look closer and enlarge it by klicking on the image, you will see that she is not actually
                giving you the tongue.
                You can actually even see her lower lip.
            </p>

            <div class="container my-4">
                <img src="data/part1/tongue_final.png" class="img-thumbnail rounded mx-auto d-block" style="width: 25%;"
                    data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-lg">
                    <div class="modal-content">
                        <div class="modal-body">
                            <img src="data/part1/tongue_final.png" class="img-fluid">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <p>
                Now look at the enlarged image and move away until you almost see her giving you the tongue, but not
                quite.
                If you look at her eyes at this distance, you can see her giving you the tongue from the corner of your
                eyes,
                but if you look at her mouth, her tongue disappears again.
            </p>
            <p>
                This is a fun example of how our brain can be tricked by the frequencies of an image. The image is a
                combination
                of a high-pass and low-pass filter, which we will learn about in this project.
            </p>
            <p>
                Google also just recently released their new Pixel 9 phone, which has <a
                    href="https://store.google.com/intl/en/ideas/articles/pixel-add-me/">the new feature Add Me</a>,
                that gets everyone into a single photo, by combining 2 seperate photos of the same scene.
            </p>
            <p>
                We will learn about how we can lay 2 images on top of each other using a mask, while creating a seamless
                transition between them.
            </p>
            <div class="row row-cols-1 row-cols-md-1 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part1/monies.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                Here I took 2 pictures of my money and combined them into one image. <br>
                                Now I can show off and pretend that I have 2 monies!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row row-cols-1 row-cols-md-1 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part1/monies_process.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                The process of creating the image above. I used a mask to combine the two images.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/2_moneys_final.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        The result looks so real!
                    </p>
                </div>
            </div>
            <p>
                We will also learn, how we can blend 2 images together smoothly using gaussian and laplacian stacks.
            </p>
            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part1/apple_orange_bad.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                Going from this bad simple blending of an apple and an orange
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part1/apple_orange_good.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                To this smooth blending of an apple and an orange
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <p>
                <small>(Please don't use the images of people here anywhere else, thanks!)</small>
            </p>
            <ul>
                <li><a href="#a">1. Fun with Filters</a></li>
                <li><a href="#b">2. Fun with Frequencies!</a></li>
            </ul>
            <hr class="my-5">
            <a class="anchor" id="a"></a>
            <h3>1. Fun with Filters</h3>
            <h4>1.1 Finite Difference Operator</h4>
            <p>
                There is a way to detect edges by looking at the intensity differences of neighboring pixels.
                We can use the Finite difference operator D_x = np.array([[1, -1]])
                <!-- <span class="font-monospace">D_x = np.array([[1, -1]])</span> -->
                and
                <!-- <span class="font-monospace">D_y = np.array([[1], [-1]])</span> -->
                D_y = np.array([[1], [-1]])
                to detect the edges in the x and y direction, by convolving it with the image.
            </p>
            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part1/cameraman.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Cathedral</h5> -->
                            <p class="card-text">Original Image</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row row-cols-1 row-cols-md-2 g-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part1/convoluted_dx.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Tobolsk</h5> -->
                            <p class="card-text">
                                Convoluted with dx, which are basically all the vertical edges
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part1/convoluted_dy.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Monastery</h5> -->
                            <p class="card-text">
                                Convoluted with dy, which are basically all the horizontal edges
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part1/grad_mag.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Tobolsk</h5> -->
                            <p class="card-text">
                                We get our gradient magnitude image by taking the square root of the sum of the squares
                                of the 2 convoluted dx dy images,
                                like this:
                                grad_mag = np.sqrt(convoluted_dx**2 + convoluted_dy**2)
                                and end up with our gradient magnitude shown above.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part1/grad_mag_thresh.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Monastery</h5> -->
                            <p class="card-text">
                                To make our image more clear, we can threshold it. We can set a threshold value, and if
                                the gradient magnitude is above this value, we set it to 255 (which is white), else to
                                0.
                                As a threshold I found out that 60 works pretty well for this image.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <h4>1.2 Derivative of Gaussian (DoG) Filter</h4>
            <p>
                The problem here, is that we still see some noise in the images in form of small white dots, which are
                not edges.
                What we could do is to blur the image first, to get rid of the noise. Here I just used a simple Gaussian
                blur with
                a kernel size of 5 and a sigma of 3. I used the blur before running the Finite Difference Operator.
                We can use the following function to create a gaussian kernel:<br>
                gaussian_kernel = cv2.getGaussianKernel(5,3).T * cv2.getGaussianKernel(5,3)

            </p>
            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part1/grad_mag_thresh_blurred.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Tobolsk</h5> -->
                            <p class="card-text">
                                By blurring the image beforehand, we can see that the noise is gone.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part1/dog_filter_result_thresh.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Monastery</h5> -->
                            <p class="card-text">
                                We can simplify things by using just one convolution instead of two by making a
                                derivative of Gaussian
                                filters by convolving the Gaussian with D_x and D_y.<br>
                                <span style="color:red">Verify that you get the same result as before!</span><br>
                                As we can see, the result with the dog filter is almost the same as before.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <p style="color:red">What differences do you see?</p>
            <p>
                Okay this result is already pretty good. This is because we got rid of the noise that was in the grass
                and
                in some other parts of the image, that was caused by some pixels having a very different intensity then
                its
                surrounding pixels. this has now been cancelled out by blurrying the image a little.
            </p>
            <p>
                What was very important here is that for creating the dog filter kernel, we used the mode full, so that
                no information is lost. Full adds 0 padding, which means, that with our gaussian kernel of size 5x5, if
                we apply the 1x2 D_x kernel on it for convolution, we will pad it on the left and right side with 0
                each, so that it results in a 5x7. After that we apply the convolution with the D_x kernel, so that it
                will end up as a 5x6 dx DoG Kernel. Same with D_y.
            </p>
            <hr class="my-5">
            <a class="anchor" id="b"></a>
            <h3>2. Fun with Frequencies!</h3>
            <h4>2.1 Image "Sharpening"</h4>
            <p>
                We can use frequencies to create any image. The high frequencies often contain the image details whereas
                the lower frequencies
                contain the overall structure of the image. We can increase the high frequencies of an image to sharpen
                an image.
            </p>

            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/taj.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Tobolsk</h5> -->
                            <p class="card-text">
                                Our original taj mahal image
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/taj_hf.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Monastery</h5> -->
                            <p class="card-text">
                                This is the high frequency part of the image that we got, by blurring the image with a
                                kernel size of 5 and a sigma of 3,
                                and then subtracting the blurred image from the original image.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/taj_sharpened_05.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Tobolsk</h5> -->
                            <p class="card-text">
                                We add the high frequency part to the original image to sharpen it.
                                I use the formula: sharpened = original + alpha * high frequency part
                                Here I have used a alpha of 0.5
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/taj_sharpened_1.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Monastery</h5> -->
                            <p class="card-text">
                                Here I have used a alpha of 1 to sharpen it
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/taj_sharpened_2.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Tobolsk</h5> -->
                            <p class="card-text">
                                Here I have used a alpha of 2 to sharpen it, which is the best result in my opition.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/taj_sharpened_4.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Monastery</h5> -->
                            <p class="card-text">
                                Here I have used a alpha of 4 to sharpen it, which feels too much.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <p>
                Lets try it with an image of my choice
            </p>
            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/popcorn.webp" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Tobolsk</h5> -->
                            <p class="card-text">
                                Here is our original image. If you find this image confusing, take a closer look, the
                                girl is actually holding a bag of popcorn :D
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/popcorn_sharpened.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Monastery</h5> -->
                            <p class="card-text">
                                Here I have used a alpha of 3. I feel like the bag of popcorn is more visible now.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <p>
                Lets take the taj mahal image again and blur it. We then want to sharpen the blurred image and compare
                it to the original image.
            </p>
            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/taj_blurry.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Tobolsk</h5> -->
                            <p class="card-text">
                                We will now use this blurried version of the taj mahal image to sharpen it.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/blurried_taj_sharpened.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Tobolsk</h5> -->
                            <p class="card-text">
                                This is the result of sharpening our blurried image
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/taj.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!-- <h5 class="card-title">Monastery</h5> -->
                            <p class="card-text">
                                This is the original image. If we compare the sharpened blurried image to our original
                                image, we can see that
                                the sharpening does not make the image quality better than the original image.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion accordion-flush border-top border-bottom my-3">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="faq-heading-1">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#faq1" style="background: none; box-shadow: none;">
                            Normalizing images
                        </button>
                    </h2>
                    <div id="faq1" class="collapse">
                        <div class="accordion-body">
                            To display the images in a more clear way, I normalized the images by dividing the image by
                            subtracting the minimum value of the image and dividing it by the maximum value - the
                            minimum value of the image:<br>
                            final-final.min())/(final.max()-final.min()
                        </div>
                    </div>
                </div>
            </div>

            <h4>2.2 Hybrid Images</h4>
            <p>
                Lets try to create hybrid images as described in this
                <a href="http://olivalab.mit.edu/publications/OlivaTorralb_Hybrid_Siggraph06.pdf">SIGGRAPH 2006 paper
                    by Oliva, Torralba, and Schyns</a>
                Hybrid images are images that we interpret differently from the distance and from close up, because they
                are a combination of low and high frequencies.
                At a distance, we can only see the low frequencies, and from close up, we can see the high frequencies.
            </p>
            <p>
                We choose 2 images that we want to combine and blur one of them with a gaussian filter to get the low
                frequencies. Here I choose a kernelsize = sigma * 6 + 1 like suggested in the lecture, but added a 1 to
                it
                because I wanted my gaussian to have a peak in the middle, instead of a flat top.
            </p>
            <p>
                If the 2 images we want to combine are not the same size or are not alligned, we can use the
                provided python script to resize and allign them beforehand. For that we only have to select 2 points in
                each image that we want
                to combine. The script will then allign the images by using the selected points.
            </p>
            <p>
                For the derek and nutmeg hybrid image, I set the sigma to 9 (our cutoff frequency) and used derek as the
                low frequency image and
                nutmeg as the high frequency image. Finally, I combined both images by adding the low frequency image to
                the high frequency image and then dividing by 2.
            </p>
            <h5>Derek Nutmeg</h5>
            <div class="row row-cols-1 row-cols-md-3 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/derek_nutmeg_high.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This is our high frequency image of nutmeg that has been correctly alligned.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/derek_nutmeg_low.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This is our low frequency image of derek that has been correctly alligned.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/derek_nutmeg.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This is our hybrid image of derek and nutmeg. If you look at it from a distance, you
                                will
                                see Derek, but if you look at it from close up, you will see the cat.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <p>
                Since we have IPhone releases every year and they barely change, I wanted to blend the different iPhone
                14 and 15 models
                together for fun, here is the result:
            </p>
            <h5>Is she sticking out her tongue? (Favorite)</h5>
            <div class="row row-cols-1 row-cols-md-3 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/high_frequency_notongue.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This is our high frequency image of notongue image that has been correctly alligned.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/blurry_image_tongue.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This is our low frequency image of tongue image that has been correctly alligned.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card" data-bs-toggle="modal" data-bs-target="#imageModal">
                        <img src="data/part2/tongue_final.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                (You can klick on this image to enlargen it) <br>
                                This is our hybrid image of the tongue and no tongue image. If you look at it from a
                                distance, you will
                                see the girl sticking out the tongue, but if you look at it from close up, you will not
                                see the tongue at all.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <h5>2D fourier transform of the images</h5>
            <p>
                I could have grayscaled this but it looks so cool in color, so I kept it like this.
            </p>
            <div class="row row-cols-1 row-cols-md-3 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/fou_high_freq_notongue.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This is our 2D fourier transform of the high frequency image notongue image
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/fou_low_freq_tongue.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This is our 2D fourier transform of the low frequency image tongue image
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/fou_final_tongue.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This is our 2D fourier transform of the final image tongue image
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <h5>New or old iPhone? (Failure)</h5>
            <p>
                This is a failure, this hybrid image is not as good as the others. I feel like the reason is that
                the 2 base images are to clear and don't have any features, the combined notch of the hybrid image at the top just looks kind of weird.
                I think its better to use base images that have a lot more features, for creating hybrid images.
            </p>
            <div class="row row-cols-1 row-cols-md-3 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/high_frequency_iphone.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This is our high frequency image of the old iPhone that has been correctly alligned.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/blurry_image_iphone.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This is our low frequency image of the new iPhone that has been correctly alligned.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/iphone_final.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                Our final hybrid image, is it the new or the old iPhone?
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <h5>Is this the Ikea shark?</h5>
            <div class="row row-cols-1 row-cols-md-3 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/shark_high_frequency.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                Ikea shark!
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/shark_blurry_image.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                Real shark!
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="data/part2/shark_final.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                Our final hybrid image, is it the Ikea shark or the real shark?
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <h5>Bells and Whisles regarding color</h5>
            <p>
                I have actually tried to use color to enhance this effect, both on the high frequency component and also
                on
                the low frequency component. From my observations, I can say that adding color makes the hybrid image
                effact not
                as good as black and white images. I kept all my previous results in black and white because I think
                they give the
                better results. The reason being that black and white leaves more for the imagination and color makes
                some parts of the
                image appear weird and abnormal.
            </p>
            <p>
                Here is my favorite result with the girl sticking out her tongue, but with color:
            </p>
            <div class="row row-cols-1 row-cols-md-2 g-4 my-4">
                <div class="col">
                    <div class="card">
                        <img src="data/part2/tongue_color_final.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">
                                This time we convolve and combine the high and low frequencies over all three color
                                channels
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <p>
                While in black and white, the part under the girls lower lip appears normal, the shade we can attribute
                to maybe a shadow or part of her chin,
                the color adds more realizim and makes the part under her lower lip appear weird, since it is tongue
                colored.
            </p>

            <h4>2.3 Gaussian and Laplacian Stacks</h4>
            <p>
                Here we will try to blend 2 images together using gaussian and laplacian stacks and also a mask.
                We use a multi resolution blending as described in this <a
                    href="http://persci.mit.edu/pub_pdfs/spline83.pdf">paper</a>
                by Burt and Adelson. We use an image spline to join 2 images together by gently distorting them. We
                blend them together
                at their different frequencies to creat a much smoother seam.
                We want to create a gaussian and laplacian stack first, with which we can blend the 2 images together.
            </p>
            <p>
                The gaussian stack is created by blurring the image with a gaussian filter. I use a stack size of 6
                images,
                convolute them with a gaussian filter with a sigma = (i + 1) * 2, with i being the index of the stack.
                I set the kernel size to be kernelsize = sigma * 6 + 1.
            </p>
            <p>
                To create the laplacian stack I take the ith gaussian layer of the stack and calculate
                the laplacian stack using stacked_gau[i] - stacked_gau[i + 1]. <br>
                We end up with a laplacian stack of size 6 too.
            </p>
            <p>
                Then we apply the same method, we created the gaussian stack with, to the mask. This mask gives us
                information
                on how strongly to blend the 2 images together. We use the following calculation to blend the 2 left and
                right images together:<br>
                left = apple_stack_lap[i] * half_mask_stack_gau[i]<br>
                right = orange_stack_lap[i] * (1 - half_mask_stack_gau[i])<br>
                final = left + right
            </p>
            <p>
                The left and middle columns show the original apple and orange images weighted by the mask.
            </p>
            <div class="card my-4">
                <img src="data/part2/6_masks.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        This is the mask we are using, that has been convoluted iteratively with the gaussian filter.
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/6_l0.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        This is level 0, the high frequency part of our laplacian stack.
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/6_l2.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        This is level 2, the mid frequency part of our laplacian stack.
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/6_l4.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        This is level 4, the low frequency part of our laplacian stack.
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/6_l5.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        This is level 5, the lowest frequency part of our laplacian stack.
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/6_final.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        This is our final blended image.
                    </p>
                </div>
            </div>
            <h5>The Oranapplewatermelon</h5>
            <p>
                Let's try it with an irregular filter and my favorite fruit, the watermelon and create a
                Oranapplewatermelon:
            </p>
            <div class="card my-4">
                <img src="data/part2/irr_round_mask.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        This is the mask we are using, that has been convoluted iteratively with the gaussian filter.
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/irr_round_orapple.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        Our Oranapple Laplacian stack
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/irr_round_watermelon.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        Our Watermelon Laplacian stack
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/irr_round_final.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        This is our final blended image.
                    </p>
                </div>
            </div>
            <h5>2 Monies</h5>
            <p>
                Having money is great but what if we had 2 monies? Lets take 2 photos of our money in 2 different places
                and use a mask to fuse the together, so that it appears as if we have 2 monies!
            </p>
            <div class="card my-4">
                <img src="data/part2/moneymask.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        This is the mask we are using
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/2_monies_process.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        After running the same process as before...
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part1/monies.png" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        We end up with 2 monies!
                    </p>
                </div>
            </div>
            <div class="card my-4">
                <img src="data/part2/2_moneys_final.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">
                        The result looks so real!
                    </p>
                </div>
            </div>
            <h4>The most important thing I learned</h4>
            <p>
                While I learned a lot about manipulating images, how images are displayed and can be sharpened or
                combined by playing with frequencies, I think that the most important thing that I learned is that
                things are easier than they seem. I always thought image processing was very complex, but after learning
                about the principles and how it works, it is actually easier than I thought, once you understand the
                basics.
            </p>
        </div>
    </main>
    <footer class="my-3">
        <div class="container-lg">
            <hr>
            <div style="font-size: .75rem">
                <div class="text-muted">Thanks for enrolling me in the course 🌱</div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>


    </script>
</body>

</html>